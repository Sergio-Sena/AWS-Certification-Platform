<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AWS Simulado</title>
    <link rel="stylesheet" href="../shared/css/base.css">
    <link rel="stylesheet" href="css/dva-theme.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23FF9900'/%3E%3Ccircle cx='50' cy='50' r='35' fill='%23232f3e'/%3E%3Ctext x='50' y='58' font-family='Arial,sans-serif' font-size='18' font-weight='bold' fill='%23FFFFFF' text-anchor='middle'%3EAWS%3C/text%3E%3C/svg%3E">

</head>
<body>
    
    
    
    <header role="banner">
        <div class="container">
            <h1><a href="../index.html" style="color: white; text-decoration: none; cursor: pointer;" aria-label="Voltar ao hub"><i class="fas fa-cloud" style="color: #FF9900; margin-right: 0.5rem;" aria-hidden="true"></i>AWS Services Certification</a></h1>
            <p>DVA-C02 Developer Associate - Domine os servi√ßos AWS</p>
        </div>
    </header>

    <nav class="main-nav" role="navigation" aria-label="Navega√ß√£o principal">
        <div class="container">
            <button class="nav-btn active" onclick="showSection('study')" aria-pressed="true">üìö Material de Estudo</button>
            <button class="nav-btn" onclick="showSection('simulator')" aria-pressed="false">üéØ Simulado</button>
            <button class="nav-btn" onclick="showSection('results')" aria-pressed="false">üìä Resultados</button>
        </div>
    </nav>

    <main class="container" id="main-content" role="main">
        <div class="content-wrapper">
            <!-- SE√á√ÉO DE ESTUDOS -->
            <section id="study" class="content-section active" role="region" aria-labelledby="study-heading">
                <div id="assessment-intro" class="assessment-intro">
                    <h2 id="study-heading"><i class="fas fa-brain" style="color: white; margin-right: 0.5rem;" aria-hidden="true"></i>Avalia√ß√£o Inicial - DVA-C02</h2>
                    <p>Como especialista em aprendizado acelerado, vou personalizar seu plano de estudos baseado no seu conhecimento atual.</p>
                    <p><strong>Responda estas 5 perguntas r√°pidas</strong> para eu entender seu n√≠vel e focar no que realmente importa para sua aprova√ß√£o.</p>
                    <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="btn-primary" onclick="startAssessment()" aria-describedby="assessment-description">Iniciar Avalia√ß√£o üöÄ</button>
                        <button class="btn-secondary btn-skip" onclick="skipAssessment()">üìö Pular e Ir Direto ao Material</button>
                    </div>
                    <div id="assessment-description" class="sr-only">Avalia√ß√£o de 5 quest√µes para personalizar seu plano de estudos</div>
                </div>
                
                <div id="assessment-quiz" class="assessment-quiz" style="display: none;">
                    <div class="assessment-header">
                        <h3>Quest√£o <span id="assessment-current">1</span> de 5</h3>
                        <div class="assessment-progress" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" aria-label="Progresso da avalia√ß√£o">
                            <div id="assessment-progress-bar" class="progress-bar"></div>
                        </div>
                    </div>
                    <div id="assessment-question" class="assessment-question"></div>
                    <div id="assessment-options" class="assessment-options"></div>
                    <div class="assessment-controls">
                        <button id="assessment-next" class="btn-primary" onclick="nextAssessmentQuestion()" disabled aria-describedby="next-help">Pr√≥xima</button>
                        <div id="next-help" class="sr-only">Selecione uma resposta para continuar</div>
                    </div>
                </div>
                
                <div id="assessment-results" class="assessment-results" style="display: none;"></div>
                
                <div id="study-material" class="study-material" style="margin-top: 3rem;">
                    <h2>Material de Estudo</h2>
                <div class="study-grid" role="grid" aria-label="T√≥picos de estudo dispon√≠veis">
                    <div class="study-card" onclick="showTopic('lambda')" role="button" tabindex="0" onkeypress="if(event.key==='Enter') showTopic('lambda')" aria-describedby="lambda-desc">
                        <h3>‚ö° AWS Lambda</h3>
                        <p id="lambda-desc">Serverless computing, cold starts, performance</p>
                    </div>
                    <div class="study-card" onclick="showTopic('dynamodb')">
                        <h3>üóÑÔ∏è DynamoDB</h3>
                        <p>NoSQL, throttling, GSI, DAX</p>
                    </div>
                    <div class="study-card" onclick="showTopic('apigateway')">
                        <h3>üåê API Gateway</h3>
                        <p>REST/HTTP APIs, rate limiting, CORS</p>
                    </div>
                    <div class="study-card" onclick="showTopic('security')">
                        <h3>üîí Security & IAM</h3>
                        <p>Policies, roles, least privilege</p>
                    </div>
                    <div class="study-card" onclick="showTopic('monitoring')">
                        <h3>üìä Monitoring</h3>
                        <p>CloudWatch, X-Ray, logging</p>
                    </div>
                    <div class="study-card" onclick="showTopic('deployment')">
                        <h3>üöÄ CI/CD</h3>
                        <p>CodePipeline, deployment strategies</p>
                    </div>
                    <div class="study-card" onclick="showTopic('s3')">
                        <h3><i class="fa-solid fa-bucket"></i> Amazon S3</h3>
                        <p>Object storage, lifecycle, security</p>
                    </div>
                    <div class="study-card" onclick="showTopic('ec2')">
                        <h3>‚òÅÔ∏è Amazon EC2</h3>
                        <p>Instances, AMIs, security groups</p>
                    </div>
                    <div class="study-card" onclick="showTopic('containers')">
                        <h3>üì¶ Containers</h3>
                        <p>ECS, EKS, Docker deployment</p>
                    </div>
                    <div class="study-card" onclick="showTopic('messaging')">
                        <h3>üì® SNS & SQS</h3>
                        <p>Messaging, queues, notifications</p>
                    </div>
                    <div class="study-card" onclick="showTopic('cognito')">
                        <h3>üë§ AWS Cognito</h3>
                        <p>Authentication, user management</p>
                    </div>
                    <div class="study-card" onclick="showTopic('systems-manager')">
                        <h3>‚öôÔ∏è Systems Manager</h3>
                        <p>Parameter Store, automation</p>
                    </div>
                </div>

                    <!-- Conte√∫do dos t√≥picos -->
                    <div id="topic-content" class="topic-content"></div>
                </div>
            </section>

            <!-- SE√á√ÉO DO SIMULADO -->
            <section id="simulator" class="content-section" role="region" aria-labelledby="simulator-heading">
                <div class="simulator-header">
                    <h2 id="simulator-heading"><i class="fas fa-laptop-code" style="color: #232f3e; margin-right: 0.5rem;" aria-hidden="true"></i>Simulado DVA-C02</h2>
                    <div class="simulator-controls">
                        <button id="start-exam" class="btn-primary" onclick="startExam()" aria-describedby="exam-description">Iniciar Simulado (65 quest√µes)</button>
                        <button id="practice-mode" class="btn-secondary" onclick="practiceMode()" aria-describedby="practice-description">Modo Pr√°tica</button>
                    </div>
                    <div id="exam-description" class="sr-only">Simulado completo com 65 quest√µes e 130 minutos de dura√ß√£o</div>
                    <div id="practice-description" class="sr-only">Modo pr√°tica com 10 quest√µes aleat√≥rias sem limite de tempo</div>
                </div>

                <div id="exam-interface" class="exam-interface" style="display: none;" role="application" aria-label="Interface do simulado">
                    <div class="exam-header">
                        <div class="timer" role="timer" aria-live="polite" aria-atomic="true">‚è±Ô∏è Tempo: <span id="timer">130:00</span></div>
                        <div class="progress" aria-live="polite">Quest√£o <span id="current-q">1</span> de <span id="total-q">65</span></div>
                    </div>

                    <div class="question-container">
                        <div id="question-text" class="question-text" role="heading" aria-level="3"></div>
                        <div id="options-container" class="options-container" role="radiogroup" aria-labelledby="question-text"></div>
                    </div>

                    <div class="exam-controls">
                        <button id="prev-btn" onclick="previousQuestion()" disabled aria-label="Quest√£o anterior">‚Üê Anterior</button>
                        <button id="next-btn" onclick="nextQuestion()" aria-label="Pr√≥xima quest√£o">Pr√≥xima ‚Üí</button>
                        <button id="finish-btn" onclick="finishExam()" style="display: none;" aria-label="Finalizar simulado e ver resultados">Finalizar Simulado</button>
                    </div>
                </div>
            </section>

            <!-- SE√á√ÉO DE RESULTADOS -->
            <section id="results" class="content-section" role="region" aria-labelledby="results-heading">
                <h2 id="results-heading"><i class="fas fa-chart-line" style="margin-right: 0.5rem;" aria-hidden="true"></i>Seus Resultados</h2>
                <div id="results-content" role="region" aria-live="polite">
                    <p>Complete um simulado para ver seus resultados aqui.</p>
                </div>
            </section>
        </div>
    </main>

    <script src="../shared/js/core.js"></script>
    <script src="../shared/components/breadcrumb.js"></script>
    <script src="data/study-material.js"></script>
    <script src="data/dva-study-material.js"></script>
    <script src="data/additional-questions.js"></script>
    <script src="data/complete-question-bank.js"></script>
    <script src="data/multiple-choice-questions.js"></script>
    <script src="data/initial-assessment.js"></script>
    <script src="data/question-distribution.js"></script>
    <script src="js/ux-enhancements.js"></script>
    <script src="js/dva-script.js"></script>
    <!-- <script src="test-logic.js"></script> --> <!-- Descomente para testar -->
    <script>
        // Debug function - execute no console: debugAnswerCheck()
        function debugAnswerCheck() {
            if (!examState.isActive || examState.questions.length === 0) {
                console.log('‚ùå Nenhum simulado ativo. Inicie um simulado primeiro.');
                return;
            }
            
            console.log('üîç Debug - Verifica√ß√£o de Respostas');
            console.log('=====================================');
            
            let correctCount = 0;
            examState.questions.forEach((question, index) => {
                const userAnswer = examState.answers[question.id];
                const correctAnswer = question.correct;
                
                let isCorrect = false;
                if (correctAnswer.length > 1) { // Multiple choice
                    if (Array.isArray(userAnswer) && userAnswer.length === correctAnswer.length) {
                        isCorrect = correctAnswer.every(ans => userAnswer.includes(ans)) && 
                                   userAnswer.every(ans => correctAnswer.includes(ans));
                    }
                } else { // Single choice
                    isCorrect = userAnswer === correctAnswer[0];
                }
                
                if (isCorrect) correctCount++;
                
                console.log(`Quest√£o ${index + 1}:`);
                console.log(`  Tipo: ${correctAnswer.length > 1 ? 'M√∫ltipla' : '√önica'}`);
                console.log(`  Resposta correta: ${JSON.stringify(correctAnswer)}`);
                console.log(`  Sua resposta: ${JSON.stringify(userAnswer)}`);
                console.log(`  Status: ${isCorrect ? '‚úÖ CORRETO' : '‚ùå INCORRETO'}`);
                console.log('---');
            });
            
            const percentage = Math.round((correctCount / examState.questions.length) * 100);
            console.log(`üìä Resumo: ${correctCount}/${examState.questions.length} corretas (${percentage}%)`);
        }
        
        window.debugAnswerCheck = debugAnswerCheck;
        
        // Aplicar tema DVA e inserir breadcrumb
        document.addEventListener('DOMContentLoaded', function() {
            applyTheme('dva');
            insertBreadcrumb('dva-c02');
        });
    </script>
</body>
</html>